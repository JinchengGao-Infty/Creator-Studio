# T3.9 集成验证：完整的项目和章节流程

## 目标

验证 Phase 3 所有功能的集成，确保完整的项目和章节管理流程正常工作。

## 测试流程

### 1. 新建项目
- 启动应用，看到欢迎页面
- 点击「新建项目」
- 输入项目名称：`测试小说`
- 选择保存位置
- 点击创建
- **预期**：跳转到主界面，章节列表为空

### 2. 创建章节
- 点击章节列表的「+」按钮
- **预期**：创建「新章节」，自动选中
- 在编辑器中输入内容：`这是第一章的内容。`
- **预期**：字数统计显示 `9 字`，状态显示「未保存」
- 等待 2 秒
- **预期**：状态变为「已保存」

### 3. 重命名章节
- 右键点击章节
- 选择「重命名」
- 输入：`第一章 开端`
- 按 Enter
- **预期**：章节标题更新

### 4. 创建更多章节
- 再创建 2 个章节
- 分别重命名为「第二章 转折」「第三章 高潮」
- 分别输入一些内容
- **预期**：章节列表显示 3 个章节，字数各自正确

### 5. 切换章节
- 点击「第一章 开端」
- **预期**：编辑器显示第一章内容
- 点击「第二章 转折」
- **预期**：编辑器显示第二章内容，第一章内容已保存

### 6. 撤销/重做
- 在编辑器中输入一些文字
- 按 Ctrl+Z
- **预期**：撤销成功
- 按 Ctrl+Shift+Z
- **预期**：重做成功

### 7. 删除章节
- 右键点击「第三章 高潮」
- 选择「删除」
- 确认删除
- **预期**：章节被删除，列表只剩 2 个

### 8. 导入 txt（如果 T3.5 完成）
- 准备一个测试 txt 文件，包含多个章节
- 点击「导入」
- 选择文件
- 预览拆章结果
- 确认导入
- **预期**：章节正确创建

### 9. 关闭重开
- 关闭应用
- 重新打开
- 打开刚才的项目
- **预期**：所有章节和内容都在

### 10. 未保存提示
- 编辑内容但不等待自动保存
- 尝试关闭窗口
- **预期**：弹出确认对话框

## 验收标准

- [ ] 新建项目流程正常
- [ ] 创建章节正常
- [ ] 重命名章节正常
- [ ] 切换章节正常，内容正确加载
- [ ] 撤销/重做正常
- [ ] 删除章节正常
- [ ] 自动保存正常
- [ ] 字数统计正确
- [ ] 关闭重开数据持久化
- [ ] 未保存提示正常

## 输出要求

完成后，在 `docs/T3.9-验证报告.md` 中记录：
1. 每个测试步骤的结果（✅ 通过 / ❌ 失败）
2. 发现的 Bug（如有）
3. 改进建议（如有）

## 依赖

- T3.1 ~ T3.8 全部完成

---

*任务创建时间：2026-02-02*
